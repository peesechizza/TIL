# 2. 기본형과 참조형

변수의 데이터 타입을 가장 크게 보면 기본형과 참조형으로 분류할 수 있다.

- 기본형
  - int, long, double, boolean 처럼 변수에 사용할 값을 직접 넣을 수 있는 데이터 타입을 기본형이라 한다.
  - 실제 사용하는 값을 변수에 담아 해당 값을 바로 사용할 수 있다.
- 참조형
  - 데이터에 접근하기 위한 참조를 저장하는 데이터 타입을 참조형이라 한다.
  - 참조형은 객체 또는 배열에 사용된다.
    - 객체는 `.` 을 통해서 메모리 상에 생성된 객체를 찾아가야 사용할 수 있다.
    - 배열은 `[]` 를 통해서 메모리 상에 생성된 배열을 찾아가야 사용할 수 있다.

## 계산

- 기본형
  - 기본형은 들어있는 값(변수)을 그대로 계산에 사용할 수 있다.
- 참조형
  - 참조형은 변수에 객체의 위치인 참조값이 들어있는데, 참조값은 계산에 사용할 수 없고 `.` 을 통해 객체의 기본형 멤버 변수에 접근한 경우에 연산이 가능하다.

## 변수 대입

자바에서 변수에 값을 대입하는 것은 변수에 들어있는 값을 복사해서 대입하는 것이다.

기본형, 참조형 모두 항상 변수에 있는 값을 복사해서 대입한다. 기본형이면 변수에 들어있는 실제 사용하는 값을 복사해서 대입하고, 참조형이면 변수에 들어있는 참조값을 복사해서 대입한다.

## 메서드 호출

메서드를 호출할 때 사용하는 매개변수도 변수이다. 따라서 메서드를 호출할 때 매개변수에 값을 전달하는 것도 값을 복사해서 전달한다.

### 기본형과 참조형의 메서드 호출

자바에서 메서드의 매개변수는 항상 값에 의해 전달된다. 이 값이 실제 값인지, 참조(메모리 주소)값인지에 따라 동작이 달라진다.

- **기본형**
  - 메서드로 기본형 데이터를 전달하면, 해당 값이 복사되어 전달된다. 이 경우, 메서드 내부에서 매개변수의 값을 변경해도 호출자의 변수 값에는 영향이 없다.
- **참조형**
  - 메서드로 참조형 데이터를 전달하면, 참조값이 복사되어 전달된다. 이 경우, 메서드 내부에서 매개변수로 전달된 객체의 멤버 변수를 변경하면 호출자의 객체도 변경된다.

## 변수와 초기화

### 변수의 종류

- 멤버 변수 (필드) : 클래스에 선언
- 지역 변수 : 메서드에 선언, 매개변수도 지역 변수의 한 종류이다.

### 변수의 값 초기화

- 멤버 변수 : 자동 초기화
  - 인스턴스의 멤버 변수는 인스턴스를 생성할 때 자동으로 초기화된다.
  - `int = 0` , `boolean = false` , `참조형 = null` (null 값은 참조할 대상이 없다는 뜻으로 사용된다.)
  - 개발자가 초기값을 직접 지정할 수 있다.
- 지역 변수 : 수동 초기화
  - 지역 변수는 항상 직접 초기화해야 한다.

## null

참조형 변수에서 가리키는 대상을 나중에 입력하거나 아직 가리키는 대상이 없다면 null이라는 값을 넣어둘 수 있다. null은 값이 존재하지 않는, 없다는 뜻이다.

### GC (garbage collection)

아무도 참조하지 않는 인스턴스가 있으면 JVM의 GC(가비지 컬렉션)가 더 이상 사용하지 않는 인스턴스라 판단하고 해당 인스턴스를 자동으로 메모리에서 제거해준다.

객체는 해당 객체를 참조하는 곳이 있으면, JVM이 종료할 때 까지 계속 생존한다. 그런데 중간에 해당 객체를 참조하는 곳이 모두 사라지면 JVM은 필요 없는 객체라 판단하고 GC를 사용해서 제거한다.

## NullPointerException

`NullPointerException` 은 이름 그대로 `null`을 가리키다(Pointer)인데, 이 때 발생하는 예외이다. 주소가 없는 곳을 찾아갈 때 발생하는 예외이다.
